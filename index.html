<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizador Semanal Evergreen 2D</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f0fdf4;
            background-image: radial-gradient(#dcfce7 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .card-shadow {
            box-shadow: 0 8px 0px rgba(0,0,0,0.05);
        }
        .calendar-btn {
            transition: all 0.2s ease;
        }
        .calendar-btn:hover {
            transform: scale(1.03);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .link-style {
            color: #2563eb;
            text-decoration: underline;
        }
        .past-day {
            opacity: 0.7;
            filter: grayscale(20%);
        }
        .day-card-content {
            min-height: 580px;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-[95%] mx-auto bg-white rounded-[40px] shadow-2xl overflow-hidden border-8 border-white relative">
        
        <!-- CABECERA -->
        <div class="bg-emerald-500 p-6 text-white relative overflow-hidden">
            <div class="absolute top-2 left-4 text-4xl opacity-50">üåø</div>
            
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-extrabold tracking-widest uppercase mb-2">School Timetable 2D</h1>
                <p id="week-label" class="text-xl font-bold bg-white text-emerald-600 inline-block px-6 py-1 rounded-full uppercase shadow-sm">Cargando...</p>
            </div>

            <button onclick="toggleWeek()" id="nav-btn" class="absolute top-6 right-6 bg-white text-emerald-600 hover:bg-emerald-50 font-bold py-2 px-6 rounded-2xl shadow-lg transition-all transform hover:scale-105 flex items-center gap-2 z-20 border-2 border-emerald-100">
                <span id="btn-text">Ver Pr√≥xima Semana</span>
                <span id="btn-icon">‚û°Ô∏è</span>
            </button>
        </div>

        <!-- CONTENEDOR PRINCIPAL -->
        <div id="main-content" class="p-6 bg-emerald-50">
            <div id="grid-container" class="grid grid-cols-1 md:grid-cols-5 gap-4 fade-in">
                <!-- Inyectado por JS -->
            </div>
        </div>

        <!-- FOOTER -->
        <div class="bg-white p-5 border-t-2 border-dashed border-gray-200 flex flex-wrap items-center justify-between gap-4">
            <div class="flex items-center gap-3">
                <div class="bg-emerald-100 p-2 rounded-full text-2xl">ü•≥</div>
                <div>
                    <p class="font-bold text-gray-800 text-xs uppercase">Pr√≥ximos Cumplea√±os:</p>
                    <p id="birthday-footer" class="text-[10px] text-gray-500 italic">No tendremos m√°s por este mes</p>
                </div>
            </div>
            <div class="bg-blue-50 text-blue-600 px-4 py-2 rounded-2xl text-[10px] font-bold border border-blue-100 uppercase">
                üìñ Horarios Oficiales Cargados (D√≠as 1-4)
            </div>
        </div>
    </div>

    <script>
        let currentWeekNum = 1;

        // DICCIONARIO DE HORARIOS OFICIALES (Actualizado por el usuario)
        const schedules = {
            1: "<li>‚Ä¢ Danza</li><li>‚Ä¢ Psicomotricidad</li><li>‚Ä¢ Espa√±ol</li><li>‚Ä¢ Artes</li><li>‚Ä¢ Math</li><li>‚Ä¢ English</li>",
            2: "<li>‚Ä¢ STEAM</li><li>‚Ä¢ Social</li><li>‚Ä¢ Science</li><li>‚Ä¢ Espa√±ol</li><li>‚Ä¢ English</li><li>‚Ä¢ Phonics</li><li>‚Ä¢ Math</li>",
            3: "<li>‚Ä¢ P.E.</li><li>‚Ä¢ Art</li><li>‚Ä¢ Math</li><li>‚Ä¢ English</li><li>‚Ä¢ Science</li><li>‚Ä¢ Espa√±ol</li>",
            4: "<li>‚Ä¢ Perfil</li><li>‚Ä¢ Science</li><li>‚Ä¢ Math</li><li>‚Ä¢ English</li><li>‚Ä¢ Teatro</li><li>‚Ä¢ Espa√±ol</li>",
            5: "<li class='text-gray-400 italic font-medium'>Por confirmar</li>",
            6: "<li class='text-gray-400 italic font-medium'>Por confirmar</li>"
        };

        const weekData = {
            1: {
                label: "Semana Actual (Feb 09 - 13)",
                days: [
                    { nombre: "Lunes 09", numDia: 4, uniforme: "Diario üëû", past: true, bday: "Mart√≠n Chac√≥n (Feb 07)" },
                    { nombre: "Martes 10", numDia: 5, uniforme: "Sudadera", past: false, link: "https://wordwall.net/es/resource/32706393" },
                    { nombre: "Mi√©rcoles 11", numDia: 6, uniforme: "Diario (C)", past: false, tarea: true },
                    { nombre: "Jueves 12", numDia: 1, uniforme: "Sudadera", past: false },
                    { nombre: "Viernes 13", numDia: 2, uniforme: "Diario", past: false }
                ]
            },
            2: {
                label: "Pr√≥xima Semana (Feb 16 - 20)",
                days: [
                    { nombre: "Lunes 16", numDia: 3, uniforme: "Diario", past: false },
                    { nombre: "Martes 17", numDia: 4, uniforme: "Sudadera", past: false },
                    { nombre: "Mi√©rcoles 18", numDia: 5, uniforme: "Diario", past: false },
                    { nombre: "Jueves 19", numDia: 6, uniforme: "Sudadera", past: false },
                    { nombre: "Viernes 20", numDia: 1, uniforme: "Diario", past: false }
                ]
            }
        };

        function renderWeek(weekNum) {
            const container = document.getElementById('grid-container');
            const data = weekData[weekNum];
            document.getElementById('week-label').innerText = data.label;
            container.innerHTML = ''; 

            data.days.forEach(day => {
                const colors = {
                    "Lunes": "bg-blue-500 border-blue-500",
                    "Martes": "bg-yellow-400 border-yellow-400",
                    "Mi√©rcoles": "bg-pink-400 border-pink-400",
                    "Jueves": "bg-sky-400 border-sky-400",
                    "Viernes": "bg-orange-400 border-orange-400"
                };
                const dayKey = day.nombre.split(' ')[0];
                const colorClass = colors[dayKey] || "bg-emerald-500 border-emerald-500";

                const cardHTML = `
                    <div class="flex flex-col h-full ${day.past ? 'past-day' : ''}">
                        <div class="${colorClass.split(' ')[0]} text-white p-3 text-center rounded-t-3xl font-bold uppercase text-lg shadow-sm">
                            ${day.nombre}
                        </div>
                        <div class="bg-white p-4 flex-grow border-x-4 border-b-4 ${colorClass.split(' ')[1]} rounded-b-3xl card-shadow flex flex-col day-card-content">
                            <div class="mb-3">
                                <span class="bg-gray-100 text-gray-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase">D√≠a ${day.numDia}</span>
                            </div>

                            ${day.bday ? `
                            <div class="mb-3 bg-yellow-50 border border-yellow-200 rounded-xl p-2">
                                <p class="text-[9px] font-bold text-yellow-700 uppercase">üéÇ CUMPLEA√ëOS:</p>
                                <p class="text-[10px] text-gray-700 font-bold">${day.bday}</p>
                            </div>` : ''}

                            <div class="mb-3">
                                <p class="font-bold text-gray-700 text-xs mb-0.5">üëî Uniforme:</p>
                                <p class="${colorClass.split(' ')[0].replace('bg-', 'text-')} font-bold text-sm uppercase italic leading-tight">${day.uniforme}</p>
                            </div>

                            ${day.tarea ? `
                            <div class="bg-orange-50 p-3 rounded-2xl border-2 border-orange-200 mb-3 shadow-sm">
                                <p class="font-bold text-orange-700 text-[9px] mb-1 uppercase">üöÄ TAREA MATERIALES:</p>
                                <ul class="text-[9px] text-gray-800 space-y-0.5 font-semibold">
                                    <li>‚Ä¢ 2-4 piezas Papel, Pl√°stico, Metal</li>
                                    <li class="text-orange-600 italic">Limpios y de 5x5 cm</li>
                                </ul>
                            </div>` : ''}

                            <div class="mb-3 flex-grow">
                                <p class="font-bold text-gray-400 text-[10px] uppercase mb-1 tracking-wider">üìö Horario</p>
                                <ul class="text-[11px] text-gray-700 space-y-1 font-medium">
                                    ${schedules[day.numDia]}
                                </ul>
                                ${day.link ? `
                                <div class="mt-4 p-2 bg-blue-50 rounded-xl border border-blue-200 shadow-sm">
                                    <p class="font-bold text-blue-700 text-[9px] mb-1 uppercase tracking-tight">üîó Pr√°ctica Espa√±ol:</p>
                                    <a href="${day.link}" target="_blank" class="text-[9px] link-style font-bold block truncate">Juego Wordwall Sin√≥nimos</a>
                                </div>` : ''}
                            </div>

                            ${day.past ? 
                                `<p class="text-[9px] text-center font-bold text-gray-400 mt-2 uppercase">‚úì D√≠a Finalizado</p>` : 
                                `<button onclick="handleCalendar('${day.nombre}', '${day.uniforme}', ${day.tarea})" class="calendar-btn mt-4 w-full bg-gray-50 text-gray-500 border border-gray-200 py-2.5 rounded-xl text-[10px] font-bold shadow-sm">üìÖ Agendar Recordatorio</button>`
                            }
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', cardHTML);
            });
        }

        function toggleWeek() {
            currentWeekNum = currentWeekNum === 1 ? 2 : 1;
            const btnText = document.getElementById('btn-text');
            const footerBday = document.getElementById('birthday-footer');
            btnText.innerText = currentWeekNum === 2 ? "Volver a Actual" : "Ver Pr√≥xima Semana";
            footerBday.innerText = currentWeekNum === 2 ? "Marzo: Ada Rodr√≠guez (Mar 01)" : "No tendremos m√°s por este mes";
            renderWeek(currentWeekNum);
        }

        window.handleCalendar = function(dia, uniforme, tieneTarea) {
            const title = encodeURIComponent(`CLASE 2D: ${dia}`);
            let body = `Recordatorio para ma√±ana ${dia}\n\nüëî UNIFORME: ${uniforme}\n`;
            if(tieneTarea) body += `\nüö® TAREA MATERIALES (Reciclaje):\n- Papel, Pl√°stico, Metal limpios (5x5cm).\n`;
            body += `\nüìñ Revisa el horario oficial en el organizador interactivo.`;
            window.open(`https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&details=${encodeURIComponent(body)}`, '_blank');
        };

        document.addEventListener('DOMContentLoaded', () => renderWeek(1));
    </script>
</body>
</html>
